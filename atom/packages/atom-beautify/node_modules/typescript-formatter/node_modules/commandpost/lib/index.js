/// <reference path="../typings/node/node.d.ts" />
/// <reference path="../typings/es6-promise/es6-promise.d.ts" />
"use strict";
try {
    // optional
    require("source-map-support").install();
}
catch (e) {
}
require("es6-promise").polyfill();
var Command = require("./command");
/**
 * Create new top level command.
 * @param cmdName
 * @returns {Command<Opt, Arg>}
 */
function create(cmdName) {
    "use strict";
    return new Command(cmdName);
}
exports.create = create;
/**
 * exec parsing and call callback.
 * @param cmd it created by create function.
 * @param argv pass process.argv
 * @returns {Promise<{}>}
 */
function exec(cmd, argv) {
    "use strict";
    return Promise.resolve(null).then(function () {
        argv = argv.slice(2);
        // cmd.parse throw an exception often.
        return cmd.parse(argv);
    });
}
exports.exec = exec;
//# sourceMappingURL=index.js.map