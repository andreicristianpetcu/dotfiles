{"_id":"etch","_rev":"9-f932d70b149064d983c0a63cd3502b4b","name":"etch","description":"Perform virtual DOM updates based on changes to a data model.","dist-tags":{"latest":"0.1.0"},"versions":{"0.0.1":{"name":"etch","version":"0.0.1","description":"Perform virtual DOM updates based on changes to a data model.","main":"dist/index.js","scripts":{"test":"npm run standard && node_modules/.bin/electron-mocha --renderer --recursive ./test/helpers/register-babel  test","tdd":"npm run standard && node_modules/.bin/electron-mocha --renderer --interactive --recursive ./test/helpers/register-babel  test","prepublish":"npm run standard && npm run clean && npm run build","standard":"standard src test","build":"babel src --out-dir dist","clean":"rm -rf dist"},"repository":{"type":"git","url":"git+https://github.com/nathansobo/etch.git"},"keywords":["virtual-dom dom view element custom-elements dom-diff atom electron"],"author":{"name":"Nathan Sobo","email":"nathan@github.com"},"license":"MIT","bugs":{"url":"https://github.com/nathansobo/etch/issues"},"homepage":"https://github.com/nathansobo/etch","devDependencies":{"babel":"^5.0.0","babel-eslint":"^4.0.5","chai":"^2.0.0","electron-mocha":"git://github.com/nathansobo/electron-mocha.git#interactive-option","electron-prebuilt":"^0.30.1","mocha":"^2.1.0","sinon":"^1.12.2","sinon-chai":"^2.7.0","standard":"^4.5.4"},"dependencies":{"data-observer":"0.0.3","event-kit":"^1.2.0","virtual-dom":"^2.0.1"},"standard":{"parser":"babel-eslint"},"gitHead":"e06eb2055ba47b650dcfbba9709990525c02fcc8","_id":"etch@0.0.1","_shasum":"90940f4bd5802e96cdb54c8cf715aeffb20ce39b","_from":".","_npmVersion":"2.11.3","_nodeVersion":"0.12.7","_npmUser":{"name":"nathansobo","email":"nathan@github.com"},"maintainers":[{"name":"nathansobo","email":"nathan@github.com"}],"dist":{"shasum":"90940f4bd5802e96cdb54c8cf715aeffb20ce39b","tarball":"http://registry.npmjs.org/etch/-/etch-0.0.1.tgz"},"directories":{}},"0.0.2":{"name":"etch","version":"0.0.2","description":"Perform virtual DOM updates based on changes to a data model.","main":"dist/index.js","scripts":{"test":"npm run standard && node_modules/.bin/electron-mocha --renderer --recursive ./test/helpers/register-babel  test","tdd":"npm run standard && node_modules/.bin/electron-mocha --renderer --interactive --recursive ./test/helpers/register-babel  test","prepublish":"npm run standard && npm run clean && npm run build","standard":"standard src test","build":"babel src --out-dir dist","clean":"rm -rf dist"},"repository":{"type":"git","url":"git+https://github.com/nathansobo/etch.git"},"keywords":["virtual-dom dom view element custom-elements dom-diff atom electron"],"author":{"name":"Nathan Sobo","email":"nathan@github.com"},"license":"MIT","bugs":{"url":"https://github.com/nathansobo/etch/issues"},"homepage":"https://github.com/nathansobo/etch","devDependencies":{"babel":"^5.0.0","babel-eslint":"^4.0.5","chai":"^2.0.0","electron-mocha":"git://github.com/nathansobo/electron-mocha.git#interactive-option","electron-prebuilt":"^0.30.1","mocha":"^2.1.0","sinon":"^1.12.2","sinon-chai":"^2.7.0","standard":"^4.5.4"},"dependencies":{"data-observer":"0.0.3","event-kit":"^1.2.0","virtual-dom":"^2.0.1"},"standard":{"parser":"babel-eslint"},"gitHead":"c41bde0b5357273557563b4348672de9366c58c5","_id":"etch@0.0.2","_shasum":"068305d868fb436af279f662951716a8fbf77d31","_from":".","_npmVersion":"2.11.3","_nodeVersion":"0.12.7","_npmUser":{"name":"nathansobo","email":"nathan@github.com"},"maintainers":[{"name":"nathansobo","email":"nathan@github.com"}],"dist":{"shasum":"068305d868fb436af279f662951716a8fbf77d31","tarball":"http://registry.npmjs.org/etch/-/etch-0.0.2.tgz"},"directories":{}},"0.0.3":{"name":"etch","version":"0.0.3","description":"Perform virtual DOM updates based on changes to a data model.","main":"dist/index.js","scripts":{"test":"npm run standard && node_modules/.bin/electron-mocha --renderer --recursive ./test/helpers/register-babel  test","tdd":"npm run standard && node_modules/.bin/electron-mocha --renderer --interactive --recursive ./test/helpers/register-babel  test","prepublish":"npm run standard && npm run clean && npm run build","standard":"standard src test","build":"babel src --out-dir dist","clean":"rm -rf dist"},"repository":{"type":"git","url":"git+https://github.com/nathansobo/etch.git"},"keywords":["virtual-dom dom view element custom-elements dom-diff atom electron"],"author":{"name":"Nathan Sobo","email":"nathan@github.com"},"license":"MIT","bugs":{"url":"https://github.com/nathansobo/etch/issues"},"homepage":"https://github.com/nathansobo/etch","devDependencies":{"babel":"^5.0.0","babel-eslint":"^4.0.5","chai":"^2.0.0","electron-mocha":"git://github.com/nathansobo/electron-mocha.git#interactive-option","electron-prebuilt":"^0.30.1","mocha":"^2.1.0","sinon":"^1.12.2","sinon-chai":"^2.7.0","standard":"^4.5.4"},"dependencies":{"data-observer":"0.0.3","event-kit":"^1.2.0","virtual-dom":"^2.0.1"},"standard":{"parser":"babel-eslint"},"gitHead":"8ddfd8785cbf578c31dffd7489a82b226dc33317","_id":"etch@0.0.3","_shasum":"c515c110516457fdaad53c5620f34be3611ae843","_from":".","_npmVersion":"2.11.3","_nodeVersion":"0.12.7","_npmUser":{"name":"nathansobo","email":"nathan@github.com"},"maintainers":[{"name":"nathansobo","email":"nathan@github.com"}],"dist":{"shasum":"c515c110516457fdaad53c5620f34be3611ae843","tarball":"http://registry.npmjs.org/etch/-/etch-0.0.3.tgz"},"directories":{}},"0.0.4":{"name":"etch","version":"0.0.4","description":"Perform virtual DOM updates based on changes to a data model.","main":"dist/index.js","scripts":{"test":"npm run standard && node_modules/.bin/electron-mocha --renderer --recursive ./test/helpers/register-babel  test","tdd":"npm run standard && node_modules/.bin/electron-mocha --renderer --interactive --recursive ./test/helpers/register-babel  test","prepublish":"npm run standard && npm run clean && npm run build","standard":"standard src test","build":"babel src --out-dir dist","clean":"rm -rf dist"},"repository":{"type":"git","url":"git+https://github.com/nathansobo/etch.git"},"keywords":["virtual-dom dom view element custom-elements dom-diff atom electron"],"author":{"name":"Nathan Sobo","email":"nathan@github.com"},"license":"MIT","bugs":{"url":"https://github.com/nathansobo/etch/issues"},"homepage":"https://github.com/nathansobo/etch","devDependencies":{"babel":"^5.0.0","babel-eslint":"^4.0.5","chai":"^2.0.0","electron-mocha":"git://github.com/nathansobo/electron-mocha.git#interactive-option","electron-prebuilt":"^0.30.1","mocha":"^2.1.0","sinon":"^1.12.2","sinon-chai":"^2.7.0","standard":"^4.5.4"},"dependencies":{"data-observer":"0.0.3","event-kit":"^1.2.0","virtual-dom":"^2.0.1"},"standard":{"parser":"babel-eslint"},"gitHead":"1eb338ff3ec7aa391dff8661e295a3013b5a200e","_id":"etch@0.0.4","_shasum":"7b50d6c81ef8058320dcc65decf404c9dacd4211","_from":".","_npmVersion":"2.11.3","_nodeVersion":"0.12.7","_npmUser":{"name":"nathansobo","email":"nathan@github.com"},"maintainers":[{"name":"nathansobo","email":"nathan@github.com"}],"dist":{"shasum":"7b50d6c81ef8058320dcc65decf404c9dacd4211","tarball":"http://registry.npmjs.org/etch/-/etch-0.0.4.tgz"},"directories":{}},"0.0.5":{"name":"etch","version":"0.0.5","description":"Perform virtual DOM updates based on changes to a data model.","main":"dist/index.js","scripts":{"test":"npm run standard && node_modules/.bin/electron-mocha --renderer --recursive ./test/helpers/register-babel  test","tdd":"npm run standard && node_modules/.bin/electron-mocha --renderer --interactive --recursive ./test/helpers/register-babel  test","prepublish":"npm run standard && npm run clean && npm run build","standard":"standard src test","build":"babel src --out-dir dist","clean":"rm -rf dist"},"repository":{"type":"git","url":"git+https://github.com/nathansobo/etch.git"},"keywords":["virtual-dom dom view element custom-elements dom-diff atom electron"],"author":{"name":"Nathan Sobo","email":"nathan@github.com"},"license":"MIT","bugs":{"url":"https://github.com/nathansobo/etch/issues"},"homepage":"https://github.com/nathansobo/etch","devDependencies":{"babel":"^5.0.0","babel-eslint":"^4.0.5","chai":"^2.0.0","electron-mocha":"git://github.com/nathansobo/electron-mocha.git#interactive-option","electron-prebuilt":"^0.30.1","mocha":"^2.1.0","sinon":"^1.12.2","sinon-chai":"^2.7.0","standard":"^4.5.4"},"dependencies":{"data-observer":"0.0.3","event-kit":"^1.2.0","virtual-dom":"^2.0.1"},"standard":{"parser":"babel-eslint"},"gitHead":"e6c65ecd2d63005b4cc83511b28365a98d235f31","_id":"etch@0.0.5","_shasum":"5899a9654d42ac8781e1665ae2a2108601b626ae","_from":".","_npmVersion":"2.11.3","_nodeVersion":"0.12.7","_npmUser":{"name":"nathansobo","email":"nathan@github.com"},"maintainers":[{"name":"nathansobo","email":"nathan@github.com"}],"dist":{"shasum":"5899a9654d42ac8781e1665ae2a2108601b626ae","tarball":"http://registry.npmjs.org/etch/-/etch-0.0.5.tgz"},"directories":{}},"0.0.6":{"name":"etch","version":"0.0.6","description":"Perform virtual DOM updates based on changes to a data model.","main":"dist/index.js","scripts":{"test":"npm run standard && node_modules/.bin/electron-mocha --renderer --recursive ./test/helpers/register-babel  test","tdd":"npm run standard && node_modules/.bin/electron-mocha --renderer --interactive --recursive ./test/helpers/register-babel  test","prepublish":"npm run standard && npm run clean && npm run build","standard":"standard src test","build":"babel src --out-dir dist","clean":"rm -rf dist"},"repository":{"type":"git","url":"git+https://github.com/nathansobo/etch.git"},"keywords":["virtual-dom dom view element custom-elements dom-diff atom electron"],"author":{"name":"Nathan Sobo","email":"nathan@github.com"},"license":"MIT","bugs":{"url":"https://github.com/nathansobo/etch/issues"},"homepage":"https://github.com/nathansobo/etch","devDependencies":{"babel":"^5.0.0","babel-eslint":"^4.0.5","chai":"^2.0.0","electron-mocha":"git://github.com/nathansobo/electron-mocha.git#interactive-option","electron-prebuilt":"^0.30.1","mocha":"^2.1.0","sinon":"^1.12.2","sinon-chai":"^2.7.0","standard":"^4.5.4"},"dependencies":{"data-observer":"0.0.3","event-kit":"^1.2.0","virtual-dom":"^2.0.1"},"standard":{"parser":"babel-eslint"},"gitHead":"852d1e11618db70130f742eb0dbd465278243483","_id":"etch@0.0.6","_shasum":"c353ad5130a287b86e88b8fa7c5ac6c9496481d8","_from":".","_npmVersion":"2.11.3","_nodeVersion":"0.12.7","_npmUser":{"name":"nathansobo","email":"nathan@github.com"},"maintainers":[{"name":"nathansobo","email":"nathan@github.com"}],"dist":{"shasum":"c353ad5130a287b86e88b8fa7c5ac6c9496481d8","tarball":"http://registry.npmjs.org/etch/-/etch-0.0.6.tgz"},"directories":{}},"0.0.7":{"name":"etch","version":"0.0.7","description":"Perform virtual DOM updates based on changes to a data model.","main":"dist/index.js","scripts":{"test":"npm run standard && node_modules/.bin/electron-mocha --renderer --recursive ./test/helpers/register-babel  test","tdd":"npm run standard && node_modules/.bin/electron-mocha --renderer --interactive --recursive ./test/helpers/register-babel  test","prepublish":"npm run standard && npm run clean && npm run build","standard":"standard src test","build":"babel src --out-dir dist","clean":"rm -rf dist"},"repository":{"type":"git","url":"git+https://github.com/nathansobo/etch.git"},"keywords":["virtual-dom dom view element custom-elements dom-diff atom electron"],"author":{"name":"Nathan Sobo","email":"nathan@github.com"},"license":"MIT","bugs":{"url":"https://github.com/nathansobo/etch/issues"},"homepage":"https://github.com/nathansobo/etch","devDependencies":{"babel":"^5.0.0","babel-eslint":"^4.0.5","chai":"^2.0.0","electron-mocha":"git://github.com/nathansobo/electron-mocha.git#interactive-option","electron-prebuilt":"^0.30.1","mocha":"^2.1.0","sinon":"^1.12.2","sinon-chai":"^2.7.0","standard":"^4.5.4"},"dependencies":{"virtual-dom":"^2.0.1"},"standard":{"parser":"babel-eslint"},"gitHead":"166e1cee839874f40a68075a3c4d39cefad9bc5c","_id":"etch@0.0.7","_shasum":"efdf14f6c55ff8dd1c52618d448867f8e41dcd60","_from":".","_npmVersion":"2.11.3","_nodeVersion":"0.12.7","_npmUser":{"name":"nathansobo","email":"nathan@github.com"},"maintainers":[{"name":"nathansobo","email":"nathan@github.com"}],"dist":{"shasum":"efdf14f6c55ff8dd1c52618d448867f8e41dcd60","tarball":"http://registry.npmjs.org/etch/-/etch-0.0.7.tgz"},"directories":{}},"0.1.0":{"name":"etch","version":"0.1.0","description":"Perform virtual DOM updates based on changes to a data model.","main":"dist/index.js","scripts":{"test":"npm run standard && node_modules/.bin/electron-mocha --renderer --recursive ./test/helpers/register-babel  test","tdd":"npm run standard && node_modules/.bin/electron-mocha --renderer --interactive --recursive ./test/helpers/register-babel  test","prepublish":"npm run standard && npm run clean && npm run build","standard":"standard --recursive src test","build":"babel src --out-dir dist","clean":"rm -rf dist"},"repository":{"type":"git","url":"git+https://github.com/nathansobo/etch.git"},"keywords":["virtual-dom dom view element custom-elements dom-diff atom electron"],"author":{"name":"Nathan Sobo","email":"nathan@github.com"},"license":"MIT","bugs":{"url":"https://github.com/nathansobo/etch/issues"},"homepage":"https://github.com/nathansobo/etch","devDependencies":{"babel":"^5.0.0","babel-eslint":"^4.0.5","chai":"^2.0.0","electron-mocha":"git://github.com/nathansobo/electron-mocha.git#interactive-option","electron-prebuilt":"^0.30.1","mocha":"^2.1.0","standard":"^4.5.4"},"dependencies":{"virtual-dom":"^2.0.1"},"standard":{"parser":"babel-eslint","global":["describe","it","expect"]},"gitHead":"ddcd55049c5100aef5ee2368adfe84f18735da16","_id":"etch@0.1.0","_shasum":"0653a791faf906201800fe660b41600d614565e3","_from":".","_npmVersion":"2.11.3","_nodeVersion":"0.12.7","_npmUser":{"name":"nathansobo","email":"nathan@github.com"},"dist":{"shasum":"0653a791faf906201800fe660b41600d614565e3","tarball":"http://registry.npmjs.org/etch/-/etch-0.1.0.tgz"},"maintainers":[{"name":"nathansobo","email":"nathan@github.com"}],"directories":{}}},"readme":"# etch\n\nEtch is a library for writing HTML-based view components that provides the convenience of a **virtual DOM** while at the same time striving to be **minimal**, **interoperable**, and **explicit**. Etch can be used anywhere, but it was specifically designed with **Atom packages** and **Electron applications** in mind.\n\n### Overview\n\nIn the example below, we define a simple `TaskListComponent` using ES6 syntax enabled by the [Babel transpiler][babel]. Our component's `render` method returns a JSX expression describing the desired content of our component as a function of an underlying data model.\n\n```js\n/** @jsx etch.dom */\n\nimport etch from 'etch'\n\nexport default class TaskListComponent {\n  // The constructor assigns initial state, then associates the component with\n  // an element via `etch.createElement`\n  constructor ({tasks}) {\n    this.tasks = tasks\n    etch.createElement(this)\n  }\n\n  // When your component's element is created or updated, its content will be\n  // based on the result of the `render` method.\n  render () {\n    return (\n      <div className='task-list'>\n        <h1>Tasks:</h1>\n        <ol>{\n          this.tasks.map(task =>\n            <li className='task' key={task.id}>\n              <input type='checkbox' checked={task.completed}>\n              {task.description}\n            </li>\n          )\n        }</ol>\n      </div>\n    )\n  }\n\n  // This method adds a task, then schedules a DOM update on the next animation\n  // frame via `etch.updateElement`\n  addTask (task) {\n    this.tasks.push(task)\n    etch.updateElement(this)\n  }\n}\n```\n\nEtch favors composition over inheritance, meaning your components can be arbitrary objects that implement a `render` method. In the constructor, we call `etch.createElement` with the newly-created component. `etch.createElement` then calls our `render` method to create an element and assign it to the `element` property on the component. Later, when we update the data model in `addTask`, we call `etch.updateElement` with the component, which calls `render` again and updates the component's element via a diff with its previous content.\n\nNow let's use the component we just defined...\n\n```js\nlet taskList = new TaskListComponent({tasks: [\n  {id: 1, description: 'Write README', completed: true},\n  {id: 2, description: 'Build etch example package', completed: false}  \n]})\ndocument.body.appendChild(taskList.element)\ntaskList.addTask({id: 3, description: 'Feed cats', completed: false})\n```\n\nNote that when we want to *use* the component, we don't have to interact with any Etch APIs. The component is an ordinary object that can be constructed normally. After construction, its `element` property points at a DOM node that is ready to use and can be appended to the document using standard APIs. This enables straightforward *interoperability* between our component and any code that works with standard DOM elements.\n\nAlso note that the decision to update the element's content in the `addTask` method is *explicit*. If you want to build a property store that calls `etch.updateElement` automatically when values change, that's easy to do, but no specific state management system is prescribed, and nothing happens automatically by default.\n\n### Composition\n\nSay we wanted to extract a `TaskComponent` for each task in our list...\n\n```js\n/** @jsx etch.dom */\n\nimport etch from 'etch'\n\nexport default class TaskComponent {\n  constructor ({task}) {\n    this.task = task\n    etch.createElement(this)\n  }\n\n  update ({task}) {\n    this.task = task\n    etch.updateElement(this)\n  }\n\n  render () {\n    return (\n      <li className='task' key={this.task.id}>\n        <input type='checkbox' checked={this.task.completed}>\n        {this.task.description}\n      </li>\n    )\n  }\n}\n```\n\nTo use this component within our task list, we can reference its constructor directly in JSX expressions. We'll add a \"featured task\" above the list to spice up the example.\n\n```js\n/** @jsx etch.dom */\n\nimport etch from 'etch'\nimport TaskComponent from './task-component'\n\nexport default class TaskListComponent {\n  constructor ({tasks, featuredTask}) {\n    this.tasks = tasks\n    this.featuredTask = featuredTask\n    etch.createElement(this)\n  }\n\n  render () {\n    return (\n      <div className='task-list'>\n        <h1>Featured Task:</h1>\n        <TaskComponent task={this.featuredTask} />\n        <h1>Tasks:</h1>\n        <ol>{\n          this.tasks.map(task => <TaskComponent task={task} key={task.id} />)\n        }</ol>\n      </div>\n    )\n  }\n}\n```\n\nNow, everywhere a `TaskComponent` constructor is used in the JSX, a `TaskComponent` component instance will be instantiated and its associated `element` will be inserted into the DOM. If any the attributes of a JSX expression containing a `TaskComponent` change on a subsequent call to `render`, the `update` method will be called on the component if it exists. Otherwise, a new component will be instantiated with the new property values and the original component's element will be replaced.\n\nIn addition to embedding other Etch components, you can pass an arbitrary constructor function to `etch.dom` in your JSX expressions conforming to the following interface:\n\n* Your function must be a constructor. It will be called with the `new` keyword and passed the JSX expression's properties and children as arguments.\n* The component object returned by your constructor must have an `element` field pointing to a DOM node. This element will be inserted into the DOM.\n* The component object returned by your constructor may have an `update` method. This method will be called whenever the same function appears in the same location in successive calls to `render`.\n\n### References\n\nIf any of your JSX expressions have a magic `ref` attribute, a reference will automatically be created to the resulting DOM node. In the example below, we use the `ref` property on a button element to automatically assign `refs.newButton` on the component.\n\n```js\nexport default class TaskListComponent {\n  constructor ({tasks}) {\n    this.tasks = tasks\n    etch.createElement(this)\n    this.refs.newButton.addEventListener('click', this.newTask.bind(this))\n  }\n\n  render () {\n    return (\n      <div className='task-list'>\n        <button className='.btn.new' ref='newButton'>Create Task</button>\n        <h1>Tasks:</h1>\n        <ol>{\n          this.tasks.map(task => <TaskComponent task={task} key={task.id} />)\n        }</ol>\n      </div>\n    )\n  }\n\n  newTask () { /* ... */ }\n}\n```\n\nIf expressions with component constructors have a `ref` attribute, the reference points to the component object rather than the element. You can always access the element via the `element` field on the component object.\n\n### Events\n\nIn the spirit of minimalism, Etch does not currently bake in any event handling directly into the library. If you want to use the event delegation pattern, you might try the [dom-listener][dom-listener] library.\n\n```js\nimport etch from 'etch'\nimport DOMListener from 'dom-listener'\n\nclass TaskList {\n  constructor ({tasks}) {\n    this.tasks = tasks\n    etch.createElement(this)\n\n    // Handle events...\n    let listener = new DOMListener(this.element)\n    listener.add('.btn.new', 'click', this.newTask.bind(this))\n  }\n\n  /* ... */\n}\n```\n\n### Lifecycle Hooks\n\nEarlier versions of this library experimented with providing library-agnostic attachment and removal hooks via a sneaky integration with HTML 5 custom elements API. They're not present in this version for simplicity, but if you need these callbacks please open an issue with your use case. We want to see if we can get along without them since they require quite a few gymnastics.\n\n### API\n\n#### Library Functions\n\n#### Component Interface\n\n\n[babel]: https://babeljs.io/\n[dom-listener]: https://github.com/atom/dom-listener\n","maintainers":[{"name":"nathansobo","email":"nathan@github.com"}],"time":{"modified":"2015-09-24T01:46:07.349Z","created":"2015-07-31T23:48:25.423Z","0.0.1":"2015-07-31T23:48:25.423Z","0.0.2":"2015-08-01T17:29:44.432Z","0.0.3":"2015-08-03T20:51:14.417Z","0.0.4":"2015-08-13T03:14:18.087Z","0.0.5":"2015-08-14T00:36:29.406Z","0.0.6":"2015-08-18T05:18:28.954Z","0.0.7":"2015-08-18T20:52:39.765Z","0.1.0":"2015-09-24T01:46:07.349Z"},"homepage":"https://github.com/nathansobo/etch","keywords":["virtual-dom dom view element custom-elements dom-diff atom electron"],"repository":{"type":"git","url":"git+https://github.com/nathansobo/etch.git"},"author":{"name":"Nathan Sobo","email":"nathan@github.com"},"bugs":{"url":"https://github.com/nathansobo/etch/issues"},"license":"MIT","readmeFilename":"README.md","users":{"thomasjo":true},"_attachments":{},"_etag":"\"HTJD5UFK83HM6QAAIU61XSP6\""}