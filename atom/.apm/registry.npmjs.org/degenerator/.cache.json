{"_id":"degenerator","_rev":"14-99c9c8ed5694d68023c776a57d86f5a4","name":"degenerator","description":"Turns sync functions into async generator functions","dist-tags":{"latest":"1.0.2"},"versions":{"0.0.1":{"name":"degenerator","version":"0.0.1","description":"Turns sync functions into async generator functions","main":"index.js","scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"author":{"name":"Nathan Rajlich","email":"nathan@tootallnate.net","url":"http://n8.io/"},"license":"MIT","dependencies":{"esprima":"git://github.com/ariya/esprima.git#harmony","escodegen":"~1.0.0","ast-types":"~0.3.11"},"_id":"degenerator@0.0.1","dist":{"shasum":"b31be1562d67d829a76f257386956e652208970e","tarball":"http://registry.npmjs.org/degenerator/-/degenerator-0.0.1.tgz"},"_from":".","_npmVersion":"1.3.14","_npmUser":{"name":"tootallnate","email":"nathan@tootallnate.net"},"maintainers":[{"name":"tootallnate","email":"nathan@tootallnate.net"}],"directories":{}},"0.0.2":{"name":"degenerator","version":"0.0.2","description":"Turns sync functions into async generator functions","main":"index.js","scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"author":{"name":"Nathan Rajlich","email":"nathan@tootallnate.net","url":"http://n8.io/"},"license":"MIT","dependencies":{"esprima":"git://github.com/ariya/esprima.git#harmony","escodegen":"~1.0.0","ast-types":"~0.3.11"},"devDependencies":{"mocha":"~1.15.1","regenerator":"~0.3.1"},"_id":"degenerator@0.0.2","dist":{"shasum":"3b1d9b87163e55cbf5cd88f8866753cc5cdbaa41","tarball":"http://registry.npmjs.org/degenerator/-/degenerator-0.0.2.tgz"},"_from":".","_npmVersion":"1.3.14","_npmUser":{"name":"tootallnate","email":"nathan@tootallnate.net"},"maintainers":[{"name":"tootallnate","email":"nathan@tootallnate.net"}],"directories":{}},"0.0.3":{"name":"degenerator","version":"0.0.3","description":"Turns sync functions into async generator functions","main":"index.js","scripts":{"test":"mocha --reporter spec test/test.js"},"author":{"name":"Nathan Rajlich","email":"nathan@tootallnate.net","url":"http://n8.io/"},"repository":{"type":"git","url":"git://github.com/TooTallNate/node-degenerator.git"},"license":"MIT","dependencies":{"esprima":"git://github.com/ariya/esprima.git#harmony","escodegen":"~1.3.1","ast-types":"~0.3.22"},"devDependencies":{"mocha":"~1.18.2"},"bugs":{"url":"https://github.com/TooTallNate/node-degenerator/issues"},"homepage":"https://github.com/TooTallNate/node-degenerator","_id":"degenerator@0.0.3","dist":{"shasum":"e815feb3e6a5380fc10767d083fcf521ace0017f","tarball":"http://registry.npmjs.org/degenerator/-/degenerator-0.0.3.tgz"},"_from":".","_npmVersion":"1.4.3","_npmUser":{"name":"tootallnate","email":"nathan@tootallnate.net"},"maintainers":[{"name":"tootallnate","email":"nathan@tootallnate.net"}],"directories":{}},"0.0.4":{"name":"degenerator","version":"0.0.4","description":"Turns sync functions into async generator functions","main":"index.js","scripts":{"test":"mocha --reporter spec test/test.js"},"author":{"name":"Nathan Rajlich","email":"nathan@tootallnate.net","url":"http://n8.io/"},"repository":{"type":"git","url":"git://github.com/TooTallNate/node-degenerator.git"},"license":"MIT","dependencies":{"esprima":"git://github.com/ariya/esprima.git#harmony","escodegen":"~1.3.1","ast-types":"~0.3.22"},"devDependencies":{"mocha":"~2.0.1"},"gitHead":"e1f2c7e5616d334ea27fa020780f2072766223fe","bugs":{"url":"https://github.com/TooTallNate/node-degenerator/issues"},"homepage":"https://github.com/TooTallNate/node-degenerator","_id":"degenerator@0.0.4","_shasum":"bcd911894990b610319debe90d11a662870a9ce8","_from":".","_npmVersion":"2.1.2","_nodeVersion":"0.10.32","_npmUser":{"name":"tootallnate","email":"nathan@tootallnate.net"},"maintainers":[{"name":"tootallnate","email":"nathan@tootallnate.net"}],"dist":{"shasum":"bcd911894990b610319debe90d11a662870a9ce8","tarball":"http://registry.npmjs.org/degenerator/-/degenerator-0.0.4.tgz"},"directories":{}},"1.0.0":{"name":"degenerator","version":"1.0.0","description":"Turns sync functions into async generator functions","main":"index.js","scripts":{"test":"mocha --reporter spec test/test.js"},"author":{"name":"Nathan Rajlich","email":"nathan@tootallnate.net","url":"http://n8.io/"},"repository":{"type":"git","url":"git://github.com/TooTallNate/node-degenerator.git"},"license":"MIT","dependencies":{"esprima":"git://github.com/ariya/esprima.git#harmony","escodegen":"~1.3.1","ast-types":"~0.3.22"},"devDependencies":{"mocha":"~2.0.1"},"gitHead":"b2ab3c296119b96790bc779b2b9cd772dc8762ca","bugs":{"url":"https://github.com/TooTallNate/node-degenerator/issues"},"homepage":"https://github.com/TooTallNate/node-degenerator","_id":"degenerator@1.0.0","_shasum":"9cb6976fa1b860a9f2e913cbf18689113318dd8f","_from":".","_npmVersion":"2.1.2","_nodeVersion":"0.10.32","_npmUser":{"name":"tootallnate","email":"nathan@tootallnate.net"},"maintainers":[{"name":"tootallnate","email":"nathan@tootallnate.net"}],"dist":{"shasum":"9cb6976fa1b860a9f2e913cbf18689113318dd8f","tarball":"http://registry.npmjs.org/degenerator/-/degenerator-1.0.0.tgz"},"directories":{}},"1.0.1":{"name":"degenerator","version":"1.0.1","description":"Turns sync functions into async generator functions","main":"index.js","scripts":{"test":"mocha --reporter spec test/test.js"},"author":{"name":"Nathan Rajlich","email":"nathan@tootallnate.net","url":"http://n8.io/"},"repository":{"type":"git","url":"git://github.com/TooTallNate/node-degenerator.git"},"license":"MIT","dependencies":{"esprima":"git+https://github.com/ariya/esprima.git#harmony","escodegen":"~1.3.1","ast-types":"~0.3.22"},"devDependencies":{"mocha":"~2.0.1"},"gitHead":"a4d971ed76b5f256555e2f5cc06b7c6b672a3e0a","bugs":{"url":"https://github.com/TooTallNate/node-degenerator/issues"},"homepage":"https://github.com/TooTallNate/node-degenerator","_id":"degenerator@1.0.1","_shasum":"54a67ae57012ced53b0d51d8dcf7a5d3ee79cf62","_from":".","_npmVersion":"2.5.1","_nodeVersion":"0.12.0","_npmUser":{"name":"tootallnate","email":"nathan@tootallnate.net"},"maintainers":[{"name":"tootallnate","email":"nathan@tootallnate.net"}],"dist":{"shasum":"54a67ae57012ced53b0d51d8dcf7a5d3ee79cf62","tarball":"http://registry.npmjs.org/degenerator/-/degenerator-1.0.1.tgz"},"directories":{}},"1.0.2":{"name":"degenerator","version":"1.0.2","description":"Turns sync functions into async generator functions","main":"index.js","scripts":{"test":"mocha --reporter spec test/test.js"},"author":{"name":"Nathan Rajlich","email":"nathan@tootallnate.net","url":"http://n8.io/"},"repository":{"type":"git","url":"git://github.com/TooTallNate/node-degenerator.git"},"license":"MIT","dependencies":{"esprima":"~2.3.0","escodegen":"~1.3.1","ast-types":"~0.3.22"},"devDependencies":{"mocha":"~2.0.1"},"gitHead":"b0a2b77139b8073695c00a59aee47a022300ce1a","bugs":{"url":"https://github.com/TooTallNate/node-degenerator/issues"},"homepage":"https://github.com/TooTallNate/node-degenerator#readme","_id":"degenerator@1.0.2","_shasum":"c22222c8115cb22f3bfeee0a7b55843f1677caaa","_from":".","_npmVersion":"2.10.1","_nodeVersion":"0.12.4","_npmUser":{"name":"tootallnate","email":"nathan@tootallnate.net"},"maintainers":[{"name":"tootallnate","email":"nathan@tootallnate.net"}],"dist":{"shasum":"c22222c8115cb22f3bfeee0a7b55843f1677caaa","tarball":"http://registry.npmjs.org/degenerator/-/degenerator-1.0.2.tgz"},"directories":{}}},"readme":"degenerator\n===========\n### Turns sync functions into async generator functions\n[![Build Status](https://travis-ci.org/TooTallNate/node-degenerator.svg?branch=master)](https://travis-ci.org/TooTallNate/node-degenerator)\n\nSometimes you need to write sync looking code that's really async under the hood.\nThis module takes a String to one or more synchronous JavaScript functions, and\nreturns a new String that with those JS functions transpiled into ES6 Generator\nFunctions.\n\nSo this:\n\n``` js\nfunction foo () {\n  return a('bar') || b();\n}\n```\n\nGets compiled into:\n\n``` js\nfunction* foo() {\n    return (yield a('bar')) || (yield b());\n}\n```\n\nFrom there, you can provide asynchronous thunk-based or Generator-based\nimplementations for the `a()` and `b()` functions, in conjunction with any\nGenerator-based flow control library to execute the contents of the\nfunction asynchronously.\n\n\nInstallation\n------------\n\nInstall with `npm`:\n\n``` bash\n$ npm install degenerator\n```\n\n\nExample\n-------\n\nYou must explicitly specify the names of the functions that should be\n\"asyncified\". So say we wanted to expose a `get(url)` function that did\nand HTTP request and returned the response body.\n\nThe user has provided us with this implementation:\n\n``` js\nfunction myFn () {\n  var one = get('https://google.com');\n  var two = get('http://nodejs.org');\n  var three = JSON.parse(get('http://jsonip.org'));\n  return [one, two, three];\n}\n```\n\nNow we can compile this into an asyncronous generator function, implement the\nasync `get()` function, and finally evaluate it into a real JavaScript function\ninstance with the `vm` module:\n\n\n``` js\nvar co = require('co');\nvar vm = require('vm');\nvar degenerator = require('degenerator');\n\n// the `get()` function is thunk-based (error handling omitted for brevity)\nfunction get (endpoint) {\n  return function (fn) {\n    var mod = 0 == endpoint.indexOf('https:') ? require('https') : require('http');\n    var req = mod.get(endpoint);\n    req.on('response', function (res) {\n      var data = '';\n      res.setEncoding('utf8');\n      res.on('data', function (b) { data += b; });\n      res.on('end', function () {\n        fn(null, data);\n      });\n    });\n  };\n}\n\n// convert the JavaScript string provided from the user (assumed to be `str` var)\nstr = degenerator(str, [ 'get' ]);\n\n// at this stage, you could use a transpiler like `facebook/regenerator`\n// here if desired.\n\n// turn the JS String into a real GeneratorFunction instance\nvar genFn = vm.runInNewContext('(' + str + ')', { get: get });\n\n// use a generator-based flow control library (`visionmedia/co`, `jmar777/suspend`,\n// etc.) to create an async function from the generator function.\n\nvar asnycFn = co(genFn);\n\n// NOW USE IT!!!\nasyncFn(function (err, res) {\n  // ...\n});\n```\n\n\nAPI\n---\n\n### degenerator(String jsStr, Array functionNames) → String\n\nReturns a \"degeneratorified\" JavaScript string, with ES6 Generator\nfunctions transplanted.\n\n\nLicense\n-------\n\n(The MIT License)\n\nCopyright (c) 2013 Nathan Rajlich &lt;nathan@tootallnate.net&gt;\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n'Software'), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\nIN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\nCLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\nTORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\nSOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n","maintainers":[{"name":"tootallnate","email":"nathan@tootallnate.net"}],"time":{"modified":"2015-06-22T18:59:42.095Z","created":"2013-12-06T23:47:58.716Z","0.0.1":"2013-12-06T23:48:00.079Z","0.0.2":"2013-12-07T01:23:24.837Z","0.0.3":"2014-04-04T18:51:53.071Z","0.0.4":"2014-11-22T20:08:08.308Z","1.0.0":"2014-11-22T20:20:45.205Z","1.0.1":"2015-03-11T17:37:30.770Z","1.0.2":"2015-06-22T18:59:42.095Z"},"author":{"name":"Nathan Rajlich","email":"nathan@tootallnate.net","url":"http://n8.io/"},"homepage":"https://github.com/TooTallNate/node-degenerator#readme","repository":{"type":"git","url":"git://github.com/TooTallNate/node-degenerator.git"},"bugs":{"url":"https://github.com/TooTallNate/node-degenerator/issues"},"license":"MIT","readmeFilename":"README.md","_attachments":{},"_etag":"\"4AGHWEYIWTIDDCFF34DEPM7Q6\""}