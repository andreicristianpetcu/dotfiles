{"name":"serializerr","version":"1.0.1","description":"Convert Errors & Objects into an easily-serialized vanilla Object.","main":"serializerr.js","scripts":{"test":"(babel test.js > serializerr-test.js) && tape serializerr-test.js","prepublish":"babel index.js > serializerr.js","pretest":"npm run prepublish","posttest":"rm serializerr-test.js"},"keywords":["object","error","utility","JSON","serialise","errors","non-enumerable","enumberable","stringify","properties"],"author":{"name":"Tim Oxley","email":"secoif@gmail.com"},"license":"ISC","devDependencies":{"babel":"^4.6.6","tape":"^3.5.0"},"repository":{"type":"git","url":"https://github.com/timoxley/serializerr.git"},"bugs":{"url":"https://github.com/timoxley/serializerr/issues"},"homepage":"https://github.com/timoxley/serializerr","dependencies":{"protochain":"^1.0.1"},"readme":"# serializerr\n\nConvert Errors & Objects into an easily-serialized vanilla Object.\n\nResulting object has a flattened prototype chain & includes\nnon-enumerable properties. Ignores properties on `Object.prototype`.\n\n## Why\n\nIf you've ever tried to send an Error over a JSON-encoded connection\nyou've probably been surprised to find all the useful information is\nsapped out of it; all the juicy properties like `name`, `message` &\n`stack` are non-enumerable thus they are not included in the\nstringified JSON. This may be non-standard behaviour, as I could not\nlocate any mention in either the ES5.1 or the ES6 spec about it, but\nError properties are non-enumerable both in V8 (Chrome/io.js/Node.js) &\nSpiderMonkey (Firefox).\n\nI believe Error property non-enumerability was added as a security\nmeasure to prevent stack traces and other sensitive information\naccidentally leaking, but it's not uncommon to actually want to send\nthe data in Error objects over the wire.\n\n`serializerr` makes an Object suitable for serializing to & from\nJSON. Not restricted to use with Errors, will work with any Object.\n\n## Installation\n\n```\nnpm install serializerr\n```\n\n## Usage\n\n`serializerr` creates a vanilla Object with the prototype chain\nflattened & any non-enumberable properties as regular enumerable properties.\nThis allows it to be serialised to JSON without losing important data.\n\n```js\n\nvar wellSerializedError = JSON.parse(JSON.stringify(\n  serializerr(error)\n))\n\nconsole.log(wellSerializedError.name) // Error\nconsole.log(wellSerializedError.message) // an error occurred\nconsole.log(wellSerializedError.stack) // Error: an error occurred\\n  at Test.<anonymous> ...\n\n```\n\n## Example\n\n```js\n\nvar serializerr = require('serializerr')\n\nvar error = new Error('an error')\n\n// simulate transferring an Error object over the wire as JSON\n// without first passing through serializerr\nvar poorlySerializedError = JSON.parse(JSON.stringify(error))\n\n// oh dear:\nconsole.log(poorlySerializedError.name) // undefined\nconsole.log(poorlySerializedError.message) // undefined\nconsole.log(poorlySerializedError.stack) // undefined\n\n// bring forth the serializerr\nvar errorObject = serializerr(error)\n\nvar wellSerializedError = JSON.parse(JSON.stringify(errorObject))\n\n// properties are conserved!\nconsole.log(wellSerializedError.name) // Error\nconsole.log(wellSerializedError.message) // an error occurred\nconsole.log(wellSerializedError.stack) // Error: an error occurred\\n  at Test.<anonymous> ...\n\n// note errorObject is a vanilla Object, not an Error\nerrorObject instanceof Error // false\n```\n\n## Notes on 'ize' vs 'ise'\n\nName was selected as programming world is mostly Americanised, and npm\nsearch does not seem to do effective stemming.\n\nThis decision came with strong feelings of guilt and shame about what I thought\nwas blasphemous Americanized spelling, but it turns out this is a\nmisconception thus I am pardoned:\n\n> The -ize spelling is often incorrectly seen as an Americanism in\n> Britain. However, the Oxford English Dictionary (OED) recommends -ize\n> and notes that the -ise spelling is from French.\n\nFrom [Wikipedia: American and British English spelling differences](http://en.wikipedia.org/wiki/American_and_British_English_spelling_differences#-ise.2C_-ize_.28-isation.2C_-ization.29)\n\n## License\n\nMIT\n","readmeFilename":"Readme.md","_id":"serializerr@1.0.1","_shasum":"7351615fc06a6f1756a6070bb4e8d27c4149a53f","_resolved":"https://registry.npmjs.org/serializerr/-/serializerr-1.0.1.tgz","_from":"https://registry.npmjs.org/serializerr/-/serializerr-1.0.1.tgz"}