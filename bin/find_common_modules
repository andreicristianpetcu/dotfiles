#!/bin/bash
mvn dependency:tree --projects "$1" | tee /tmp/pom_files_1.txt

cleanup_file(){
    file_name=$1
    sed -i '/-SNAPSHOT/!d' "$file_name"
    sed -i '/Downloading/d' "$file_name"
    sed -i '/Building/d' "$file_name"
    sed -i 's/\[INFO\]\ //g' "$file_name"
    sed -i 's/+- //g' "$file_name"
    sed -i 's/\\- //g' "$file_name"
    sed -i 's/\  //g' "$file_name"
    sed -i 's/|//g' "$file_name"
    sed -i 's/-SNAPSHOT//g' "$file_name"
    sed -i 's/:provided//g' "$file_name"
    sed -i 's/:compile//g' "$file_name"
    echo "----------"
    sort -u "$file_name"
    echo "----------"
}

cleanup_file /tmp/pom_files_1.txt
